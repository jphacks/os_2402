$schema: "https://moonrepo.dev/schemas/workspace.json"

versionConstraint: "1.29.3"

projects:
    ml: "apps/machine-learning"
    mobile: "apps/mobile"
    server: "apps/server"
    infrastructure: "infrastructure"

runner:
    archivableTargets:
        - ":format"
        - ":lint"
        - ":test"
    logRunningCommand: true
    autoCleanCache: true
    cacheLifetime: "24 hours"

generator:
    templates:
        - "./templates/generator"

vcs:
    manager: "git"
    provider: "github"
    defaultBranch: "master"
    remoteCandidates:
        - "origin"
        - "upstream"
    # pre-commit:
    #     - "moon run :lint :format --affected --status=staged"
    #     - "another-command"
# codeowners:
#     globalPaths:
#         "*": ["@admins"]
#         "config/": ["@infra"]
#         "infr/": ["@infra"]
#         "/.github/": ["@infra"]
